import{u as D,l as X,_ as B,a as W,g as me,r as Q,h as be,b as Y,c as ye,I as ge,d as xe,e as we,f as ke,R as Se,i as Ce,j as Te,k as $e,m as Ie,n as De,o as Me}from"./index.819b1795.js";import{_ as Z,F as Le}from"./index.a59acbda.js";/* empty css              */import{o as ee,bq as Ee,b as Be,c as v,d as M,e as R,aK as t,bl as te,br as ne,bs as oe,h as A,aQ as P,bt as Re,bu as ae,bv as V,bh as se,bw as Fe,M as ze,bx as q,aM as ce,A as y,B as L,E as g,aJ as d,D as z,aN as ue,u as _,aD as E,aC as T,by as Ae,bk as Pe,a$ as We,bz as Ke,bi as J,bj as G,am as je,a_ as He,C as re,a0 as Oe,w as Ne,aW as Ue,aO as Ve,aL as qe,bA as Je,aX as Ge,bB as U,bC as Qe,bD as Xe,p as le,bE as Ye,bF as Ze,bG as et,s as tt,a as nt,bH as ot,bI as at,bJ as st,bK as ct}from"./arco.1d3b24cf.js";import{e as ut,u as ie,f as de,g as rt,h as lt,i as it}from"./vue.2f04a2ac.js";/* empty css               */import{l as dt}from"./lodash.95413348.js";import"./chart.2c91a5c5.js";function pt(n,o,e,s=!1){n.addEventListener&&typeof n.addEventListener=="function"&&n.addEventListener(o,e,s)}function _t(n,o,e,s=!1){n.removeEventListener&&typeof n.removeEventListener=="function"&&n.removeEventListener(o,e,s)}const ft=992;function ht(){return document.body.getBoundingClientRect().width-1<ft}function vt(n){const o=D();function e(){if(!document.hidden){const u=ht();o.toggleDevice(u?"mobile":"desktop"),o.toggleMenu(u)}}const s=ut(e,100);ee(()=>{n&&s()}),Ee(()=>{pt(window,"resize",s)}),Be(()=>{_t(window,"resize",s)})}const mt=(n,o)=>{const{target:e="_blank",...s}=o||{};window.open(n,e,Object.entries(s).reduce((u,p)=>{const[f,b]=p;return[...u,`${f}=${b}`]},[]).join(","))},bt=new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i");function pe(){const n=D(),o=v(()=>n.appMenu);return{menuTree:v(()=>{const s=dt.exports.cloneDeep(o.value);s.sort((p,f)=>(p.meta.weight||0)-(f.meta.weight||0));function u(p,f){return p?p.map(r=>{var m,S;if(((m=r.meta)==null?void 0:m.hideChildrenInMenu)||!r.children)return r.children=[],r;r.children=r.children.filter(C=>{var $;return(($=C.meta)==null?void 0:$.hideInMenu)!==!0});const c=u(r.children,f+1);return c.length||f>1?(r.children=c,r):((S=r.meta)==null?void 0:S.hideInMenu)===!1?r:null}).filter(Boolean):null}return u(s,0)})}}function yt(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!oe(n)}const gt=M({emit:["collapse"],setup(n,{attrs:o}){const e=D(),s=ie(),u=de(),{menuTree:p}=pe(),f=v({get(){return e.device==="desktop"?e.menuCollapse:!1},set(i){e.updateSettings({menuCollapse:i})}}),b=v(()=>e.device==="mobile"?!1:e.layout==="topMenu"),r=R([]),c=R([]),m=i=>{if(bt.test(i.path)){mt(i.path),c.value=[i.name];return}const{hideInMenu:l,activeMenu:h}=i.meta;if(u.name===i.name&&!l&&!h){c.value=[i.name];return}s.push({name:i.name})},S=i=>{const l=[];let h=!1;const a=(x,w)=>{var I;if(x.name===i){h=!0,l.push(...w);return}(I=x.children)!=null&&I.length&&x.children.forEach(k=>{a(k,[...w,k.name])})};return p.value.forEach(x=>{h||a(x,[x.name])}),l};X(i=>{const{activeMenu:l,hideInMenu:h}=i.meta;if(!h||l){const a=S(l||i.name),x=new Set([...a,...r.value]);r.value=[...x],c.value=[l||a[a.length-1]]}},!0);const C=i=>{e.device==="desktop"&&e.updateSettings({menuCollapse:i})},$=()=>{function i(l,h=[]){return l&&l.forEach(a=>{var I;const x=(I=a==null?void 0:a.meta)!=null&&I.icon?()=>{var k;return A(P(`<${(k=a==null?void 0:a.meta)==null?void 0:k.icon}/>`))}:null,w=(a==null?void 0:a.children)&&(a==null?void 0:a.children.length)!==0?t(Re,{key:a==null?void 0:a.name},{default:()=>[i(a==null?void 0:a.children)],icon:x,title:()=>{var k;return A(P(((k=a==null?void 0:a.meta)==null?void 0:k.title)||""))}}):t(ae,{key:a==null?void 0:a.name,onClick:()=>m(a)},{default:()=>{var k;return[((k=a==null?void 0:a.meta)==null?void 0:k.title)||""]},icon:x});h.push(w)}),h}return i(p.value)};return()=>{let i;return t(ne,te({mode:b.value?"horizontal":"vertical",collapsed:f.value,"onUpdate:collapsed":l=>f.value=l,"open-keys":r.value,"onUpdate:open-keys":l=>r.value=l,"show-collapse-button":e.device!=="mobile","auto-open":!1,"selected-keys":c.value,"auto-open-selected":!0,style:"height: 100%;width:100%;",onCollapse:C},o),yt(i=$())?i:{default:()=>[i]})}}});const K=B(gt,[["__scopeId","data-v-38776251"]]);function xt(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!oe(n)}const _e=M({emit:["collapse"],setup(n,{attrs:o}){const e=D(),s=W(),u=c=>{if(c.keyword===e.currentAppKey)return;e.setCurrentApp(c.keyword);let m=e.appHome;m||(m=me(Q),e.setAppHome(e.currentAppKey,m)),s.setHomeTag(be(m)),s.resetTab(),Q.push({path:e.appHomePath})},p=()=>{function c(m,S=[]){return m.forEach(C=>{const $=()=>A(P(`<icon-${C.icon}/>`)),i=t(ae,{key:C.keyword,onClick:()=>u(C)},{default:()=>[C.title],icon:$});S.push(i)}),S}return c(e.apps)},f=()=>{let c;return t(ne,te(o,{mode:e.layout==="twoColumns"?"vertical":"horizontal","selected-keys":[e.currentAppKey]}),xt(c=p())?c:{default:()=>[c]})},b=v(()=>{var c,m;return(m=(c=e.apps)==null?void 0:c.find(S=>(S==null?void 0:S.keyword)===e.currentAppKey))==null?void 0:m.title}),r=()=>t("div",{class:"navbar-dropdown"},[e.device!=="mobile"&&t(K,{class:"top-menu"},null),t("div",{class:{"dropdown-ml-10":e.device==="mobile","navbar-dropdown-item":!0}},[t(V,{onSelect:u},{default:()=>t(se,null,{default:()=>[t(Fe,{class:"top-navbar-dropdown-text"},{default:()=>[b.value]}),t(ze,null,null)]}),content:()=>e.apps.map(c=>t(q,{value:c,key:c==null?void 0:c.keyword},{default:()=>[A(P(`<icon-${c.icon}/>`)),ce(" "),c==null?void 0:c.title]}))})])]);return()=>e.layout==="topMenu"?r():f()}});const fe=n=>(J("data-v-36c92b26"),n=n(),G(),n),wt={class:"navbar"},kt=fe(()=>g("img",{alt:"logo",src:Z,style:{width:"50px",height:"50px"}},null,-1)),St={key:0,class:"center-side"},Ct={class:"right-side"},Tt=["src"],$t={key:1,alt:"avatar",src:Z},It=fe(()=>g("span",null,"\u9000\u51FA\u767B\u5F55",-1)),Dt=M({__name:"index",setup(n){const o=D(),e=Y(),{logout:s}=ye(),{isFullscreen:u,toggle:p}=rt(),f=v(()=>e.avatar),b=v(()=>o.apps.length>1&&o.layout!=="twoColumns"),r=v(()=>o.theme),c=()=>o.device==="mobile"?`calc( ${o.menuWidth}px - 100px)`:`calc( ${o.menuWidth}px - 80px)`,m=lt({selector:"body",attribute:"arco-theme",valueDark:"dark",valueLight:"light",storageKey:"arco-theme",onChanged(i){o.toggleTheme(i)}}),S=it(m),C=()=>{S()},$=()=>{s()};return(i,l)=>{const h=Ae,a=Pe,x=xe,w=we,I=se,k=We,j=ke,H=je,O=Ke,N=ge,he=q,ve=V;return y(),L("div",wt,[g("div",{class:"left-side",style:z({width:_(o).menuWidth+"px"})},[t(a,null,{default:d(()=>[kt,t(h,{style:z({margin:0,fontSize:"18px",width:"100%",minWidth:c()}),heading:5,ellipsis:!0},{default:d(()=>[ce(ue(_(o).currentAppinfo.title),1)]),_:1},8,["style"])]),_:1})],4),_(b)?(y(),L("div",St,[t(_e)])):E("",!0),g("ul",Ct,[g("li",null,[t(k,{content:_(r)==="light"?"\u70B9\u51FB\u5207\u6362\u4E3A\u6697\u9ED1\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u4E3A\u4EAE\u8272\u6A21\u5F0F"},{default:d(()=>[t(I,{class:"nav-btn",type:"outline",shape:"circle",onClick:C},{icon:d(()=>[_(r)==="dark"?(y(),T(x,{key:0})):(y(),T(w,{key:1}))]),_:1})]),_:1},8,["content"])]),g("li",null,[t(k,{content:_(u)?"\u70B9\u51FB\u9000\u51FA\u5168\u5C4F\u6A21\u5F0F":"\u70B9\u51FB\u5207\u6362\u5168\u5C4F\u6A21\u5F0F"},{default:d(()=>[t(I,{class:"nav-btn",type:"outline",shape:"circle",onClick:_(p)},{icon:d(()=>[_(u)?(y(),T(j,{key:0})):(y(),T(H,{key:1}))]),_:1},8,["onClick"])]),_:1},8,["content"])]),g("li",null,[t(ve,{trigger:"click"},{content:d(()=>[t(he,null,{default:d(()=>[t(a,{onClick:$},{default:d(()=>[t(N),It]),_:1})]),_:1})]),default:d(()=>[t(O,{size:32,style:{marginRight:"8px",cursor:"pointer"}},{default:d(()=>[_(f)?(y(),L("img",{key:0,alt:"avatar",src:_(f)},null,8,Tt)):(y(),L("img",$t))]),_:1})]),_:1})])])])}}});const Mt=B(Dt,[["__scopeId","data-v-36c92b26"]]);const F=n=>(J("data-v-db7397cc"),n=n(),G(),n),Lt={class:"tag-link"},Et=F(()=>g("span",null,"\u91CD\u65B0\u52A0\u8F7D",-1)),Bt=F(()=>g("span",null,"\u5173\u95ED\u5F53\u524D\u6807\u7B7E\u9875",-1)),Rt=F(()=>g("span",null,"\u5173\u95ED\u5DE6\u4FA7\u6807\u7B7E\u9875",-1)),Ft=F(()=>g("span",null,"\u5173\u95ED\u53F3\u4FA7\u6807\u7B7E\u9875",-1)),zt=F(()=>g("span",null,"\u5173\u95ED\u5176\u5B83\u6807\u7B7E\u9875",-1)),At=F(()=>g("span",null,"\u5173\u95ED\u5168\u90E8\u6807\u7B7E\u9875",-1)),Pt=M({__name:"tab-item",props:{itemData:{type:Object,default(){return[]}},index:{type:Number,default:0}},setup(n){const o=n,e=ie(),s=de(),u=W(),p=D(),f=l=>{e.push({...l})},b=v(()=>u.getTabList),r=v(()=>o.itemData.fullPath!==s.fullPath),c=v(()=>o.index===0),m=v(()=>[0,1].includes(o.index)),S=v(()=>o.index===b.value.length-1),C=(l,h)=>{if(u.deleteTag(h,l),o.itemData.fullPath===s.fullPath){const a=b.value[h-1];e.push({name:a.name})}},$=()=>b.value.findIndex(l=>l.fullPath===s.fullPath),i=async l=>{const{itemData:h,index:a}=o,x=[...b.value];if(l==="current")C(h,a);else if(l==="left"){const w=$();x.splice(1,o.index-1),u.freshTabList(x),w<a&&e.push({name:h.name})}else if(l==="right"){const w=$();x.splice(o.index+1),u.freshTabList(x),w>a&&e.push({name:h.name})}else if(l==="others"){const w=b.value.filter((I,k)=>k===0||k===o.index);u.freshTabList(w),e.push({name:h.name})}else l==="reload"?(u.deleteCache(h),await e.push({name:Se,params:{path:s.fullPath}}),u.addCache(h.name)):(u.resetTab(),e.push({path:p.appHomePath}))};return(l,h)=>{const a=Oe,x=Ce,w=q,I=Te,k=$e,j=Ie,H=De,O=V;return y(),T(O,{trigger:"contextMenu","popup-max-height":!1,onSelect:i},{content:d(()=>[t(w,{disabled:r.value,value:"reload"},{default:d(()=>[t(x),Et]),_:1},8,["disabled","value"]),t(w,{class:"sperate-line",disabled:c.value,value:"current"},{default:d(()=>[t(a),Bt]),_:1},8,["disabled","value"]),t(w,{disabled:m.value,value:"left"},{default:d(()=>[t(I),Rt]),_:1},8,["disabled","value"]),t(w,{class:"sperate-line",disabled:S.value,value:"right"},{default:d(()=>[t(k),Ft]),_:1},8,["disabled","value"]),t(w,{value:"others"},{default:d(()=>[t(j),zt]),_:1},8,["value"]),t(w,{value:"all"},{default:d(()=>[t(H),At]),_:1},8,["value"])]),default:d(()=>[g("span",{class:re(["arco-tag arco-tag-size-medium arco-tag-checked",{"link-activated":n.itemData.fullPath===l.$route.fullPath}]),onClick:h[1]||(h[1]=N=>f(n.itemData))},[g("span",Lt,ue(n.itemData.title),1),g("span",{class:"arco-icon-hover arco-tag-icon-hover arco-icon-hover-size-medium arco-tag-close-btn",onClick:h[0]||(h[0]=He(N=>C(n.itemData,n.index),["stop"]))},[t(a)])],2)]),_:1})}}});const Wt=B(Pt,[["__scopeId","data-v-db7397cc"]]),Kt=n=>(J("data-v-8785760b"),n=n(),G(),n),jt={class:"tab-bar-container"},Ht={class:"tab-bar-box"},Ot={class:"tab-bar-scroll"},Nt={class:"tags-wrap"},Ut=Kt(()=>g("div",{class:"tag-bar-operation"},null,-1)),Vt=M({__name:"index",setup(n){const o=D(),e=W(),s=R(),u=v(()=>e.getTabList),p=v(()=>o.navbar?60:0);return Ne(()=>o.navbar,()=>{s.value.updatePosition()}),X(f=>{!f.meta.noAffix&&!u.value.some(b=>b.fullPath===f.fullPath)&&e.updateTabList(f)},!0),Ue(()=>{Me()}),(f,b)=>{const r=Je;return y(),L("div",jt,[t(r,{ref_key:"affixRef",ref:s,"offset-top":p.value},{default:d(()=>[g("div",Ht,[g("div",Ot,[g("div",Nt,[(y(!0),L(Ve,null,qe(u.value,(c,m)=>(y(),T(Wt,{key:c.fullPath,index:m,"item-data":c},null,8,["index","item-data"]))),128))])]),Ut])]),_:1},8,["offset-top"])])}}});const qt=B(Vt,[["__scopeId","data-v-8785760b"]]),Jt=M({__name:"content",setup(n){const o=D(),e=W(),s=v(()=>e.getCacheList);return(u,p)=>{const f=Ge("router-view");return y(),T(f,null,{default:d(({Component:b,route:r})=>[t(Xe,{name:_(o).animation,mode:"out-in",appear:""},{default:d(()=>[r.meta.ignoreCache?(y(),T(U(b),{key:r.fullPath})):(y(),T(Qe,{key:1,include:s.value},[(y(),T(U(b),{key:r.fullPath}))],1032,["include"]))]),_:2},1032,["name"])]),_:1})}}}),Gt={class:"menu-wrapper"},Qt=M({__name:"default-layout",setup(n){const o=R(!1),e=R(!1),s=D(),u=v(()=>s.navbar),p=v(()=>s.menu),f=v(()=>s.hideMenu),b=v(()=>s.menuCollapse?48:s.menuWidth),r=v(()=>s.menuCollapse),c=m=>{!e.value||s.updateSettings({menuCollapse:m})};return le("toggleDrawerMenu",()=>{o.value=!o.value}),ee(()=>{e.value=!0}),(m,S)=>{const C=et;return _(p)?Ye((y(),T(C,{key:0,class:"layout-sider",breakpoint:"xl",collapsed:_(r),collapsible:!0,width:_(b),style:z({paddingTop:_(u)?"60px":""}),"hide-trigger":!0,onCollapse:c},{default:d(()=>[g("div",Gt,[t(K)])]),_:1},8,["collapsed","width","style"])),[[Ze,!_(f)]]):E("",!0)}}});const Xt=B(Qt,[["__scopeId","data-v-2486516c"]]),Yt={class:"parent-memu"},Zt=M({__name:"two-columns-layout",setup(n){const{menuTree:o}=pe(),e=D(),s=v(()=>{var p;let u=((p=o.value)==null?void 0:p.length)<1?100:e.menuWidth;return e.menuCollapse&&(u=148),`${u}px`});return(u,p)=>_(e).device!=="mobile"?(y(),L("div",{key:0,style:z({paddingTop:_(e).navbar?"60px":"",width:_(s)}),class:"layout-sider"},[g("div",Yt,[t(_e,{class:"menu-item-vertical"})]),t(K,{class:"layout-menu"})],4)):E("",!0)}});const en=B(Zt,[["__scopeId","data-v-96067723"]]),tn={key:0,class:"layout-navbar"},nn="60px",on=M({__name:"base-layout",setup(n){const o=tt(),e=D(),s=Y(),u=v(()=>e.watermark?`${e.watermark}-${s.name}`:""),p=R(!1),f=v(()=>e.navbar),b=v(()=>e.hideMenu),r=v(()=>e.footer),c=v(()=>({...f.value?{paddingTop:nn}:{}}));vt(!0);const m=()=>{p.value=!1};return nt(()=>{switch(e.layout){case"twoColumns":o.value=en;break;case"topMenu":o.value=void 0;break;default:o.value=Xt;break}}),le("toggleDrawerMenu",()=>{p.value=!p.value}),(S,C)=>{const $=ot,i=at,l=st,h=ct;return y(),T(l,{class:re(["layout",{mobile:_(e).hideMenu}])},{default:d(()=>[_(f)?(y(),L("div",tn,[t(Mt)])):E("",!0),t(h,{content:_(u),"z-index":99999999,font:{fontSize:14}},{default:d(()=>[t(l,null,{default:d(()=>[t(l,{style:{"flex-direction":"row"}},{default:d(()=>[(y(),T(U(_(o)),{key:_(e).layout})),_(b)?(y(),T($,{key:0,visible:_(p),placement:"left",footer:!1,"mask-closable":"",closable:!1,onCancel:m},{default:d(()=>[t(K)]),_:1},8,["visible"])):E("",!0),t(l,{class:"layout-content",style:z(_(c))},{default:d(()=>[_(e).tabBar?(y(),T(qt,{key:0})):E("",!0),t(i,null,{default:d(()=>[t(Jt)]),_:1}),_(r)?(y(),T(Le,{key:1})):E("",!0)]),_:1},8,["style"])]),_:1})]),_:1})]),_:1},8,["content"])]),_:1},8,["class"])}}});const _n=B(on,[["__scopeId","data-v-6b16fbe6"]]);export{_n as default};
