import{z as P}from"./index.819b1795.js";/* empty css               *//* empty css              */import{d as V,e as _,bf as T,bQ as N,ae as U,ad as I,b0 as M,bk as O,bR as R,bS as j,B as q,aK as o,aJ as a,bP as G,A as i,bE as m,aC as l,aM as n,aN as f,aD as H,aG as h,aH as J}from"./arco.1d3b24cf.js";import{D as K,U as Q}from"./api.8b3b35ba.js";const ee=V({__name:"table",props:{columns:{},loading:{type:Boolean},data:{},size:{},pagination:{},total:{}},emits:["update","refresh","pageChange"],setup(L,{emit:v}){const C=_(),c=v,s=_({page:1,pageSize:10}),b=e=>{s.value.page=e,c("pageChange",s.value)},k=e=>{s.value.pageSize=e,c("pageChange",s.value)},z=async e=>{await K({id:e}),h.success("\u5220\u9664\u6210\u529F"),c("refresh")},S=e=>{const r=e.status?"\u542F\u7528":"\u7981\u7528";J.info({title:"\u72B6\u6001\u53D8\u66F4\u63D0\u793A",content:()=>`\u60A8\u786E\u8BA4\u8981 '${r}'\u6B64\u73AF\u5883\uFF1F`,closable:!0,hideCancel:!1,onOk:async()=>{await Q({id:e.id,status:e.status}),h.success(`${r}\u6210\u529F`)},onCancel:()=>{e.status=!e.status}})},w=e=>{C.value.show("cfg_server",e)};return(e,r)=>{const A=T,D=P,p=N,B=U,F=I,$=M,g=O,y=R,E=j,d=G("permission");return i(),q("div",null,[o(g,{direction:"vertical",fill:""},{default:a(()=>[m((i(),l(y,{"row-key":"id",loading:e.loading,columns:e.columns,pagination:!1,data:e.data,bordered:!1,size:e.size},{status:a(({record:t})=>[o(A,{modelValue:t.status,"onUpdate:modelValue":u=>t.status=u,disabled:!e.$hasPermission("configure:server:update:status"),type:"round",onChange:u=>S(t)},{checked:a(()=>[n("\u542F\u7528")]),unchecked:a(()=>[n("\u7981\u7528")]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])]),createdAt:a(({record:t})=>[n(f(e.$formatTime(t.createdAt)),1)]),updatedAt:a(({record:t})=>[n(f(e.$formatTime(t.updatedAt)),1)]),operations:a(({record:t})=>[o(g,{class:"cursor-pointer"},{default:a(()=>[m((i(),l(p,{color:"purple",onClick:u=>w(t.id)},{icon:a(()=>[o(D)]),default:a(()=>[n(" \u8D44\u6E90\u6743\u9650 ")]),_:2},1032,["onClick"])),[[d,"configure:server:resource:permission"]]),m((i(),l(p,{color:"orangered",onClick:u=>c("update",t)},{icon:a(()=>[o(B)]),default:a(()=>[n(" \u4FEE\u6539 ")]),_:2},1032,["onClick"])),[[d,"configure:server:update"]]),e.$hasPermission("configure:server:delete")?(i(),l($,{key:0,content:"\u60A8\u786E\u8BA4\u5220\u9664\u6B64\u670D\u52A1",type:"warning",onOk:u=>z(t.id)},{default:a(()=>[o(p,{color:"red"},{icon:a(()=>[o(F)]),default:a(()=>[n(" \u5220\u9664 ")]),_:1})]),_:2},1032,["onOk"])):H("",!0)]),_:2},1024)]),_:1},8,["loading","columns","data","size"])),[[d,"configure:server:query"]]),o(E,{total:e.total,current:s.value.page,"page-size":s.value.pageSize,"show-total":"","show-jumper":"","show-page-size":"",onChange:b,onPageSizeChange:k},null,8,["total","current","page-size"])]),_:1})])}}});export{ee as _};
