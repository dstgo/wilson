import{y as I,i as P,z as S}from"./index.819b1795.js";/* empty css               *//* empty css              *//* empty css               */import{d as G,e as M,bf as N,ae as U,bQ as O,bv as q,ad as H,b0 as J,bk as K,bR as Q,B as j,bE as r,aC as l,aJ as e,bP as L,A as c,aK as o,aM as a,aN as k,aD as W,aH as _,aG as g,bx as X}from"./arco.1d3b24cf.js";import{U as Y,D as Z,G as x,R as ee}from"./api.f6373cb7.js";const ie=G({__name:"table",props:{columns:{},loading:{type:Boolean},data:{},size:{}},emits:["refresh","update","pageChange"],setup(ne,{emit:v}){const h=M(),m=v,C=n=>{const s=n.status?"\u542F\u7528":"\u7981\u7528";_.info({title:"\u72B6\u6001\u53D8\u66F4\u63D0\u793A",content:()=>`\u60A8\u786E\u8BA4\u8981 '${s}'\u6B64\u73AF\u5883\uFF1F`,closable:!0,hideCancel:!1,onOk:async()=>{await Y({id:n.id,status:n.status}),g.success(`${s}\u6210\u529F`)},onCancel:()=>{n.status=!n.status}})},F=async n=>{await Z({id:n}),g.success("\u5220\u9664\u6210\u529F"),m("refresh")},A=async n=>{const{data:s}=await x(n);_.success({title:"\u83B7\u53D6Toekn\u6210\u529F",content:`\u5F53\u524D\u73AF\u5883\u7684token\u4E3A${s.token}`})},D=async n=>{const{data:s}=await ee(n);_.success({title:"\u91CD\u7F6EToekn\u6210\u529F",content:`\u5F53\u524D\u73AF\u5883\u7684token\u4E3A${s.token}`})},b=n=>{h.value.show("cfg_env",n)};return(n,s)=>{const E=N,f=U,i=O,B=I,p=X,$=P,w=S,y=q,T=H,V=J,R=K,z=Q,d=L("permission");return c(),j("div",null,[r((c(),l(z,{"row-key":"id",loading:n.loading,columns:n.columns,pagination:!1,data:n.data,bordered:!1,size:n.size},{status:e(({record:t})=>[o(E,{modelValue:t.status,"onUpdate:modelValue":u=>t.status=u,disabled:!n.$hasPermission("configure:env:update:status"),type:"round",onChange:u=>C(t)},{checked:e(()=>[a("\u542F\u7528")]),unchecked:e(()=>[a("\u7981\u7528")]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])]),createdAt:e(({record:t})=>[a(k(n.$formatTime(t.createdAt)),1)]),updatedAt:e(({record:t})=>[a(k(n.$formatTime(t.updatedAt)),1)]),operations:e(({record:t})=>[o(R,{class:"cursor-pointer"},{default:e(()=>[o(y,{trigger:"hover"},{content:e(()=>[o(p,null,{default:e(()=>[r((c(),l(i,{color:"arcoblue",onClick:u=>A(t.id)},{icon:e(()=>[o(B)]),default:e(()=>[a(" \u83B7\u53D6\u5BC6\u94A5 ")]),_:2},1032,["onClick"])),[[d,"configure:env:token:query"]])]),_:2},1024),o(p,null,{default:e(()=>[r((c(),l(i,{color:"orangered",onClick:u=>D(t.id)},{icon:e(()=>[o($)]),default:e(()=>[a(" \u91CD\u7F6E\u5BC6\u94A5 ")]),_:2},1032,["onClick"])),[[d,"configure:env:token:reset"]])]),_:2},1024),o(p,null,{default:e(()=>[r((c(),l(i,{color:"purple",onClick:u=>b(t.id)},{icon:e(()=>[o(w)]),default:e(()=>[a(" \u8D44\u6E90\u6743\u9650 ")]),_:2},1032,["onClick"])),[[d,"configure:env:resource:permission"]])]),_:2},1024)]),default:e(()=>[o(i,{color:"arcoblue"},{icon:e(()=>[o(f)]),default:e(()=>[a(" \u66F4\u591A ")]),_:1})]),_:2},1024),r((c(),l(i,{color:"orangered",onClick:u=>m("update",t)},{icon:e(()=>[o(f)]),default:e(()=>[a(" \u4FEE\u6539 ")]),_:2},1032,["onClick"])),[[d,"configure:env:update"]]),n.$hasPermission("configure:env:delete")?(c(),l(V,{key:0,content:"\u60A8\u786E\u8BA4\u5220\u9664\u6B64\u73AF\u5883",type:"warning",onOk:u=>F(t.id)},{default:e(()=>[o(i,{color:"red"},{icon:e(()=>[o(T)]),default:e(()=>[a(" \u5220\u9664 ")]),_:1})]),_:2},1032,["onOk"])):W("",!0)]),_:2},1024)]),_:1},8,["loading","columns","data","size"])),[[d,"configure:env:query"]])])}}});export{ie as _};
