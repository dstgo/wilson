import"./index.819b1795.js";/* empty css               */import{d as y,e as a,bN as z,B as x,aK as t,aJ as A,aX as R,A as D}from"./arco.1d3b24cf.js";import{u as N}from"./loading.ac3cf47a.js";import{L as S}from"./api.f6373cb7.js";import{L as b}from"./api.865e2d68.js";import k from"./tool.3cf9fd60.js";import{_ as E}from"./table.vue_vue_type_script_setup_true_lang.044d9709.js";import{_ as I}from"./form.vue_vue_type_script_setup_true_lang.01ebd940.js";import{_ as L}from"./search.vue_vue_type_script_setup_true_lang.e520eb0b.js";import{_ as U}from"./value.vue_vue_type_script_setup_true_lang.d4624fb9.js";import"./chart.2c91a5c5.js";import"./vue.2f04a2ac.js";import"./lodash.95413348.js";/* empty css               */import"./sortable.esm.41bdaeb5.js";/* empty css               *//* empty css              *//* empty css              */import"./search.f33d2c59.js";import"./api.8b3b35ba.js";const T={class:"container"},$={name:"ConfigureResource"},ue=y({...$,setup(G){const l=a(),d=a(),{setLoading:m}=N(!0),v=a(!1),c=a(),r=a("medium"),p=a(0),f=a([]),o=a({page:1,pageSize:10}),u=a([{title:"\u53D8\u91CF\u6807\u8BC6",dataIndex:"keyword",slotName:"keyword"},{title:"\u53D8\u91CF\u5B57\u6BB5",dataIndex:"fields",slotName:"fields"},{title:"\u53D8\u91CF\u6807\u7B7E",dataIndex:"tag",slotName:"tag"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createdAt",slotName:"createdAt"},{title:"\u66F4\u65B0\u65F6\u95F4",dataIndex:"updatedAt",slotName:"updatedAt"},{title:"\u64CD\u4F5C",dataIndex:"operations",slotName:"operations"}]);(async()=>{const{data:e}=await S({status:!0});f.value=e.list})();const n=async()=>{m(!0);try{const{data:e}=await b(o.value);c.value=e.list,p.value=e.total}finally{m(!1)}};n();const _=async e=>{const{pageSize:s}=o.value;o.value={...e,page:1,pageSize:s},n()},g=()=>{l.value.showAddDrawer()},h=e=>{l.value.showUpdateDrawer(e.id)},C=e=>{d.value.showUpdateDrawer(e.id)},B=async e=>{o.value.page=e.page,o.value.pageSize=e.pageSize,n()};return(e,s)=>{const w=R("Breadcrumb"),F=z;return D(),x("div",T,[t(w),t(F,{class:"general-card"},{default:A(()=>[t(L,{onSearch:_}),t(k,{size:r.value,"onUpdate:size":s[0]||(s[0]=i=>r.value=i),columns:u.value,"onUpdate:columns":s[1]||(s[1]=i=>u.value=i),onRefresh:n,onAdd:g},null,8,["size","columns"]),t(E,{columns:u.value,loading:v.value,data:c.value,size:r.value,total:p.value,pagination:o.value,onPageChange:B,onRefresh:n,onUpdate:h,onSet:C},null,8,["columns","loading","data","size","total","pagination"]),t(I,{ref_key:"formRef",ref:l,onRefresh:n},null,512),t(U,{ref_key:"valueRef",ref:d,envs:f.value},null,8,["envs"])]),_:1})])}}});export{ue as default};
